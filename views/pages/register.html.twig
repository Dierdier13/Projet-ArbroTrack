{% extends "../layouts/base.html.twig" %}

{% block style %}
	<link rel="stylesheet" href="/assets/css/main.css">
	<link rel="stylesheet" href="/assets/css/register.css">
{% endblock %}

{% block title %}
	<title>{{ title }}</title>
{% endblock %}

{% block main %}
	<main class="flex-grow flex items-center justify-center">
		<section class="flex flex-col gap-8 w-3xl my-8 px-2 lg:px-8">
			<h2 class="text-white text-center bg-[#1B3C01]/60 backdrop-blur-xl py-2 rounded-md text-xl sm:text-2xl lg:text-3xl font-semibold">Formulaire d'Inscription
				<strong>ArboTrack</strong>
			</h2>
			<div class="p-3 lg:p-6 bg-[#1B3C01]/60 backdrop-blur-2xl">
				<form action="/register" method="POST" enctype="multipart/form-data">
					<div class="mb-4">
						<label for="lastname" class="block mb-1 font-semibold text-white">Nom :</label>
						<input type="text" id="lastname" name="lastname" value="{{ lastname|default('') }}" autocomplete="on" placeholder="Entrez votre Nom" class="bg-white w-full px-4 py-2 border border-green-300 rounded-md focus:ring-2 focus:ring-green-500 focus:outline-none">
					</div>
					<div class="mb-4">
						<label for="firstname" class="block mb-1 font-semibold text-white">Prénom :</label>
						<input type="text" id="firstname" name="firstname" value="{{ firstname|default('') }}" placeholder="Entrez votre Prénom" class="bg-white w-full px-4 py-2 border border-green-300 rounded-md focus:ring-2 focus:ring-green-500 focus:outline-none">
					</div>
					{% if error.mail %}
						<span class="text-red-500 text-sm text-center">{{ error.mail }}</span>
					{% endif %}
					<div class="mb-4">
						<label for="mail" class="block mb-1 font-semibold text-white">Email :</label>
						<input type="text" id="mail" name="mail" value="{{ mail|default('') }}" placeholder="Entrez votre Mail" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:outline-none
																																																																																															    {% if error.mail %}border-red-500 focus:ring-red-500 bg-red-200{% else %}border-green-300 focus:ring-green-500 bg-white{% endif %}">
					</div>
					<div class="mb-4">
						<label for="password" class="block mb-1 font-semibold text-white">Mot de passe :</label>
						<input type="password" id="password" name="password" placeholder="Entrez votre Mot de passe" class="bg-white w-full px-4 py-2 border border-green-300 rounded-md focus:ring-2 focus:ring-green-500 focus:outline-none">
					</div>
					{% if error.confirmPassword %}
						<span class="text-red-500 text-sm text-center">{{ error.confirmPassword }}</span>
					{% endif %}
					<div class="mb-4">
						<label for="confirmpassword" class="block mb-1 font-semibold text-white">Confirmation Mot de passe :</label>
						<input type="password" id="confirmpassword" name="confirmpassword" placeholder="Confirmez votre Mot de passe" class="w-full px-4 py-2 border rounded-md focus:ring-2 focus:outline-none
																																																																																															    {% if error.confirmPassword %}border-red-500 focus:ring-red-500 bg-red-200{% else %}border-green-300 focus:ring-green-500 bg-white{% endif %}">
					</div>
					<div class="mb-4 relative">
						<div class="items-center">
						<label for="objet" class="block mb-1 font-semibold text-white">Avatar :</label>
							<input type="file" id="avatar" name="avatar" class="hidden">
							<label for="avatar" class="w-full cursor-pointer bg-white px-4 py-2 border border-green-300 rounded-md hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent flex items-center">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-green-500" fill="none" viewbox="0 0 24 24" stroke="currentColor">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/>
								</svg>
								<span id="file-name">Choisissez votre avatar</span>
							</label>
						</div>
						<p class="mt-1 text-sm text-gray-200">PNG, JPG, JPEG, WEBP jusqu'à 5MB</p>
					</div>
					{% if error.fields %}
						<span class="block text-red-500 text-sm text-center mb-4">{{ error.fields }}</span>
					{% endif %}

					<button type="submit" class="cursor-pointer w-full mb-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800 focus:ring-2 focus:ring-green-500 focus:outline-none transition duration-300">S'enregistrer</button>
					<a href="/login" class="text-white font-semibold underline">Connexion</a>
				</form>
			</div>
		</section>
	</main>
{% endblock %}

{% block script %}
	<script src="/assets/js/main.js"></script>
	<script src="/assets/js/header.js"></script>
{% endblock %}
