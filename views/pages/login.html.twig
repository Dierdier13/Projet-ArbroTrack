{% extends "../layouts/base.html.twig" %}

{% block style %}
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/login.css">
{% endblock %}

{% block title %}
    <title>{{ title }}</title>
{% endblock %}

{% block main %}
    <main class="flex items-center justify-center min-h-screen bg-gray-100">
        <section class="container mx-auto px-4 lg:flex lg:justify-between lg:items-center gap-x-8">
            <!-- Left Content -->
            <div class="lg:w-[60%] mb-8 lg:mb-0">
                <article class="bg-[#C3CEA3]/60 backdrop-blur-xl p-6 rounded-lg shadow-md">
                    <div class="text-center mb-6">
                        <img src="/assets/images/Logo_final_sans_blanc.png" alt="Logo" class="mx-auto h-[80px] sm:h-[100px]" />
                        <h1 class="text-white text-xl sm:text-[28px] font-semibold mt-[10px]">ArboTrack votre Gestionnaire Arboricole</h1>
                    </div>
                    <p class="text-white leading-relaxed text-sm sm:text-base">
                        Lorem ipsum dolor sit amet consectetur adipisicing elit. Beatae neque asperiores id nulla,
                        consectetur a nihil, explicabo dolorum quo maiores incidunt nam, magni ipsam dolores ipsa nemo enim eos in?
                    </p>
                </article>
            </div>

            <!-- Right Content (Form) -->
            <div class="lg:w-[40%] bg-[#C3CEA3]/60 backdrop-blur-xl p-[20px] rounded-lg shadow-md">
                <form action="/login" method="POST">
                    <h2 class="text-green-800 text-2xl font-bold text-center mb-4">Se Connecter</h2>
                    {% if error.mail %}
                        <span class="text-red-500 block mb-[5px]">{{ error.mail }}</span>
                    {% endif %}
                    
                    <!-- Email -->
                    <div class="mb-4">
                        <input type="email" placeholder='Votre Email' name='mail' value="{{ mail|default('') }}" 
                               required 
                               class='w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-green-500'>
                    </div>

                    {% if error.password %}
                        <span class="text-red-500 block mb-[5px]">{{ error.password }}</span>
                    {% endif %}
                    
                    <!-- Password -->
                    <div class="mb-4">
                        <input type="password" placeholder='Votre Mot de passe' name='password' 
                               required 
                               class='w-full p-2 border border-gray-300 rounded-md focus:ring focus:ring-green-500'>
                    </div>

                    {% if error.fields %}
                        <span class="block text-red-500 text-sm text-center mb-4">{{ error.fields }}</span>
                    {% endif %}

                    <!-- Submit Button -->
                    <button type="submit" class="cursor-pointer w-full py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 transition duration-300">Se connecter</button>

                    <!-- Register Link -->
                    <div class="mt-6 text-center">
                        <a href="/register" class="text-green-800 font-semibold underline">Inscription</a>
                    </div>
                </form>
            </div>
        </section>
    </main>
{% endblock %}

{% block script %}
    <script src="/assets/js/main.js"></script>
{% endblock %}
